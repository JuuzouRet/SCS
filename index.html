<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCS - Smart Character Suite</title>
    <link rel="stylesheet" href="static/style.css">
    <!-- JSZip kÃ¼tÃ¼phanesi (TarayÄ±cÄ±da ZIP yapmak iÃ§in) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="static/blocklist.js"></script>
</head>
<body>

    <!-- Yan MenÃ¼ -->
    <div class="sidebar">
        <div class="brand">âš¡ SCS Suite</div>
        <button class="nav-btn active" onclick="showPage('downloader')">ğŸ“¥ Ä°ndirici & Analiz</button>
        <button class="nav-btn" onclick="showPage('archive')">ğŸ“‚ ArÅŸiv & Ã–nizleme</button>
        <button class="nav-btn" onclick="showPage('converter')">ğŸ”„ DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼</button>
    </div>

    <!-- Ana Ä°Ã§erik -->
    <div class="main-content">
        
        <!-- SAYFA 1: Ä°NDÄ°RÄ°CÄ° (Eski Python KodlarÄ±nÄ±n JS Hali) -->
        <div id="downloader" class="page-section active">
            <h1>Chub.ai Ä°ndirici & Analiz</h1>
            <p>Ä°stediÄŸin etiketi gir, karakter sayÄ±sÄ±nÄ± gÃ¶r ve tarayÄ±cÄ± Ã¼zerinden indir.</p>
            
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <input type="text" id="tagInput" placeholder="Etiket girin (Ã¶rn: sfw, female)...">
                <button class="btn btn-primary" onclick="analyzeTag()">ğŸ” Analiz Et</button>
                <button class="btn btn-success" id="downloadAllBtn" style="display:none" onclick="startWebDownload()">â¬‡ Hepsini Ä°ndir</button>
                <button class="btn btn-accent" onclick="stopProcess()">â›” Durdur</button>
            </div>

            <div id="statsBox" class="stats-box">
                <h3>Analiz Sonucu</h3>
                <p>Bulunan Karakter: <strong id="foundCount">0</strong></p>
                <p>Tahmini Sayfa: <strong id="estPages">0</strong></p>
                <p style="font-size: 0.8em; color: #888;">*Not: TarayÄ±cÄ± Ã¼zerinden Ã§oklu indirme yaparken tarayÄ±cÄ±nÄ±z "Birden fazla dosya indirilmesine izin verilsin mi?" diye sorabilir. Ä°zin verin.</p>
            </div>

            <div class="log-area" id="consoleLog">
                > Sistem hazÄ±r. Bekleniyor...
            </div>
        </div>

        <!-- SAYFA 2: ARÅÄ°V (Eski index_main.html) -->
        <div id="archive" class="page-section">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h1>Karakter ArÅŸivi</h1>
                <div>
                    <label class="btn btn-primary">
                        ğŸ“‚ KlasÃ¶r SeÃ§
                        <input type="file" id="folderInput" webkitdirectory directory multiple style="display: none;">
                    </label>
                    <input type="text" id="archiveSearch" placeholder="ArÅŸivde ara..." style="width: 200px; margin-left: 10px;">
                </div>
            </div>
            <p id="archiveStatus" style="color: var(--accent-sec); margin-top: 10px;">LÃ¼tfen karakter klasÃ¶rÃ¼nÃ¼ seÃ§in.</p>
            
            <div class="grid-container" id="gallery"></div>
            
            <!-- Modal (ArÅŸiv Detay) -->
            <div id="charModal" class="modal">
                <span class="close-btn" onclick="closeModal()">&times;</span>
                <div class="modal-content">
                    <div style="width: 40%;"><img id="mImage" src="" style="width:100%; border-radius:8px;"></div>
                    <div style="width: 60%; color: #ddd;">
                        <h2 id="mName"></h2>
                        <button id="downloadJsonBtn" class="btn btn-success">â¬‡ JSON Ä°ndir</button>
                        <p id="mDesc" style="white-space: pre-wrap; margin-top: 20px; height: 300px; overflow-y: auto; background: #111; padding: 10px;"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- SAYFA 3: DÃ–NÃœÅTÃœRÃœCÃœ (Eski index_conv.html) -->
        <div id="converter" class="page-section">
            <h1>Perchance DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼</h1>
            
            <div class="drop-zone" id="dropZoneConv">
                <p>ğŸ“‚ JSON DosyalarÄ±nÄ± Buraya SÃ¼rÃ¼kle (V2 veya Tavern)</p>
                <input type="file" id="convInput" multiple style="display: none;">
            </div>
            
            <div id="convStatus" style="margin-top: 15px; font-weight: bold;"></div>
            <button id="downloadConvBtn" class="btn btn-success" style="display:none; margin-top: 15px;">â¬‡ DÃ¶nÃ¼ÅŸtÃ¼rÃ¼lenleri Ä°ndir</button>
        </div>

    </div>

    <script src="static/script.js"></script>
</body>
</html>